(this.webpackJsonpgarmin=this.webpackJsonpgarmin||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(16),r=c.n(s),i=(c(21),c(22),c(0));function o(){return Object(i.jsx)("img",{src:"/cart.png",alt:"",style:{width:"50px"}})}function l(){return Object(i.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(i.jsx)("a",{className:"navbar-brand",href:"#",children:Object(i.jsx)("img",{src:"/logo.png",alt:"",style:{width:"250px"}})}),Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(i.jsxs)("ul",{className:"navbar-nav",children:[Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsxs)("a",{className:"nav-link",href:"/",children:["Inicio ",Object(i.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("a",{className:"nav-link",href:"/",children:"Promociones"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("a",{className:"nav-link",href:"/",children:"Lanzamientos"})})]})}),Object(i.jsx)(o,{})]})}function j(){return Object(i.jsx)(l,{})}var d=c(3);function b(e){var t=e.item;return Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)("img",{className:"card-img-top",src:t.foto,alt:t.title}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h5",{className:"card-title",children:t.nombre}),Object(i.jsx)("p",{className:"card-text",children:t.descripcion}),Object(i.jsxs)("p",{className:"card-text",children:["Precio: $",t.precio]}),Object(i.jsx)("a",{href:t.url_details,className:"btn btn-primary",children:"Detalles"})]})]})}function u(e){var t=e.productsToShow;return Object(i.jsx)(a.a.Fragment,{children:t.map((function(e){return Object(i.jsxs)("div",{className:"card",style:{width:"15rem",margin:"10px"},children:[" ",Object(i.jsx)(b,{item:e})]},e._id)}))})}function h(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){fetch("http://localhost:8080/productos/").then((function(e){return e.json()})).then((function(e){console.log(e),s(e)})).catch(console.log)}),[]),Object(i.jsx)(a.a.Fragment,{children:c&&c.length?Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)("h1",{children:"Coleccion 2021"}),Object(i.jsx)("div",{className:"row justify-content-center",children:Object(i.jsx)(u,{productsToShow:c})})]}):Object(i.jsx)("div",{children:"Cargando productos"})})}var m=c(4),O=c.n(m),p=c(6),x=c(5),f=c.n(x);function g(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),o=Object(d.a)(r,2),l=o[0],j=o[1],b=Object(n.useState)(""),u=Object(d.a)(b,2),h=u[0],m=u[1],x=Object(n.useState)(""),g=Object(d.a)(x,2),v=g[0],N=(g[1],Object(n.useState)("")),y=Object(d.a)(N,2),w=y[0],S=y[1],k=Object(n.useState)(!1),C=Object(d.a)(k,2),F=C[0],P=C[1];function D(){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(document.cookie),P(!1),f.a.get("/login/?user=".concat(l,"&pass=").concat(h),{withCredentials:!0}).then((function(e){S(e.data.idSession),s(!0),j(""),m(""),console.log(document.cookies.connect.sid)})).catch((function(e){P(!0)})),e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return T.apply(this,arguments)}function T(){return(T=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get("/status",{withCredentials:!0}).then((function(e){s(!0),S(e.data.idSession),console.log(e.data.mensaje,e.data.idSession)})).catch((function(e){s(!1)})),e.abrupt("return",!1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.a.get("/logout",{withCredentials:!0}).then((function(e){s(!1)})).catch(console.log);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log("init"),E()}),[]),Object(i.jsx)(a.a.Fragment,{children:c?Object(i.jsx)(a.a.Fragment,{children:Object(i.jsxs)("div",{className:"m-4 p-4 bg-primary",children:[Object(i.jsx)("h1",{children:v}),Object(i.jsxs)("h2",{children:["Su id de sesion es: ",w]}),Object(i.jsx)("button",{onClick:function(){return E()},className:"mt-3",children:"Actualizar productos"}),Object(i.jsx)("button",{onClick:function(){return function(){return U.apply(this,arguments)}()},className:"mt-3",children:"Desloguear"})]})}):Object(i.jsx)(a.a.Fragment,{children:Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsxs)("form",{className:"m-4 p-4 bg-primary",onSubmit:function(){return D()},children:[Object(i.jsxs)("fieldset",{children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Usuario"}),Object(i.jsx)("input",{type:"email",className:"form-control",id:"loginUser","aria-describedby":"emailHelp",placeholder:"ingresa usuario",onChange:function(e){j(e.target.value)}.bind(this)})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Password"}),Object(i.jsx)("input",{type:"password",className:"form-control",id:"loginPassword",placeholder:"Password",onChange:function(e){m(e.target.value)}.bind(this)})]})]}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),D()},className:"btn btn-primary",children:"Ingresar"})]}),Object(i.jsx)(a.a.Fragment,{children:F?Object(i.jsx)("div",{style:{color:"red"},children:"Datos Incorrectos"}):Object(i.jsx)("div",{})})]})})})}f.a.defaults.baseURL="http://localhost:8080";var v=function(){return Object(i.jsxs)("div",{className:"App container",children:[Object(i.jsx)(j,{}),Object(i.jsx)(g,{}),Object(i.jsx)(h,{})]})};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b63a33c9.chunk.js.map